<ion-header>
  <ion-toolbar>
    <ion-title class="ion-text-center">
      <div class="logo-header">
        <ion-img
          type="image/svg+xml"
          src="../../../assets/images/logo-color.svg"
        ></ion-img>
      </div>
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-no-padding  ion-no-margin ion-text-center home-page">
  <ion-grid class="ion-no-padding ">
    <ion-row class=" bg-light  ion-no-padding  block-add-dossier ">
      <ion-col size="12" class="ion-padding-top ion-padding-bottom">
        <ion-button
          size="medium"
          shape="round"
          tappable
          [routerLink]="['../inscription']"
        >
          <span class="icon-doss-add fsize-28em"></span>
          <p class="fseiz-12em">Nouveau dossier</p>
          <ion-icon name="add-circle-outline" slot="end" class="fsize-20em">
          </ion-icon>
        </ion-button>
      </ion-col>
    </ion-row>

    <ion-row *ngIf="isExistDossier">
      <ion-col class="ion-no-padding">
        <ion-list class="list-dossier-cours">
          <ion-item-divider class="box-shadow">
            <ion-label class="p-10-0">
              <span class="icon-doss-edit text-dark  text14 "></span>
              <b class="text-gray500 text10">DOSSIER(S) EN COURS</b>
            </ion-label>
            <ion-button
              slot="end"
              strong="true"
              (click)="regrechListDossier()"
              shape="round"
            >
              <ion-icon name="refresh"></ion-icon>
            </ion-button>
          </ion-item-divider>

          <div *ngFor="let dossier of objectDossiers">
            <ion-item detail (click)="goToStep(dossier.dossierId)">
              <ion-label>
                <ion-badge
                  class="p-6-16"
                  slot="start"
                  color="medium"
                  class="color-num-dossier"
                  >NÂ°: ({{dossier["dossierId"]}})
                </ion-badge>
                <h2>
                  <span class="icon-man text-dark  fsize14"></span
                  >{{dossier["lastName"]}} {{dossier["firstName"]}}
                </h2>
              </ion-label>
              <ion-button slot="end" strong="true" shape="round">
                <ion-icon name="refresh"></ion-icon>dfsdfsd
              </ion-button>
              <ion-chip>
                <ion-row>
                  <ion-col size="12"><small>STATUS</small></ion-col>
                  <ion-col size="12">
                    <span
                      [ngClass]="{ 
                  'icon-doctor-sos-2':dossier['diagnostic']=== 'SOS',
                  'icon-heart-st':dossier['diagnostic'] === 'ST',
                  'icon-doss-edit':dossier['diagnostic'] === 'RAS' 
                }"
                      class="text-dark  fsize14"
                    ></span>

                    <ion-note
                      [ngClass]="{ 
                    'colorSos':dossier['diagnostic'] === 'SOS',
                    'colorSt':dossier['diagnostic'] === 'ST',
                    'colorRas':dossier['diagnostic'] === 'RAS' }"
                    >
                      <b>
                        {{dossier["diagnostic"] === null? "EN COURS" :
                        dossier["diagnostic"] }}</b
                      >
                    </ion-note>
                  </ion-col>
                </ion-row>
              </ion-chip>
            </ion-item>
          </div>
        </ion-list>
      </ion-col>
    </ion-row>

    <ion-row *ngIf="!isExistDossier">
      <ion-col class="ion-no-padding">
        <ion-card class="ion-margin">
          <ion-card-content class="ion-padding ion-margin text-gray300">
            <span class="icon-diagnostic  fsize-40em"></span>
            <h3 class="fsize-12em">
              Vous n'avez aucun patient en attente de diagnostic
            </h3>
            <ion-button
              slot="end"
              strong="true"
              (click)="regrechListDossier()"
              shape="round"
            >
              <ion-icon name="refresh"></ion-icon>
            </ion-button>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
