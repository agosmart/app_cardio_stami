<ion-header>
  <ion-toolbar color="dark">
    <ion-buttons slot="start">
      <ion-back-button [routerLink]="['/home']"></ion-back-button>
    </ion-buttons>
    <!-- <ion-title>insc-infos</ion-title> -->
  </ion-toolbar>
</ion-header>
<ion-grid fixed class="ion-no-padding  header-card-fix box-shadow">
  <!-- <div class="overly-gradian">&nbsp;</div> -->
  <ion-row class="ion-no-padding ">
    <ion-col size="12" class="icon-header">
      <span class="icon-cr-orientation text-white text22"></span>
    </ion-col>
    <ion-col size="12" class="title-header ion-no-padding"
      >ORIENTATION ST</ion-col
    >
  </ion-row>
</ion-grid>

<!-- ------------------- -->
<ion-content fullscreen class="orientation-info ion-no-padding">
  <ion-grid class="form-bloc  bg-light ">
    <ion-row>
      <ion-col size="12" class="ion-no-padding">
        <ion-card class="ion-margin ion-text-left" color="light">
          <ion-card-content class="text09 ">
            <ion-row class="ion-no-padding">
              <ion-col size="10" class="ion-no-padding">
                <ion-row class="ion-no-padding">
                  <ion-col size="12" class="ion-no-padding">
                    <ion-label>
                      <ion-badge class="p-6-16" slot="start" color="medium"
                        >N°: {{dossierId}}</ion-badge
                      >
                    </ion-label>
                  </ion-col>
                </ion-row>

                <ion-row class="ion-no-padding">
                  <ion-col size="12" class="ion-no-padding">
                    <span class="icon-man text-dark  text10"></span>
                    {{dataPatient['lastName']}} {{dataPatient['firstName']}}
                  </ion-col>
                </ion-row>

                <ion-row class="ion-no-padding">
                  <ion-col size="12" class="ion-no-padding">
                    <span class="icon-calander  text-dark  text10"></span>
                    {{dataPatient['birthDayFr']}}

                    <ion-chip outline color="secondary">
                      <ion-label class="bold"
                        >{{dataPatient['age']}} ans
                      </ion-label>
                    </ion-chip>

                    <!-- <ion-badge color="medium" mode="md">{{dataPatient['age']}} ans  </ion-badge>  -->
                  </ion-col>
                </ion-row>
                <ion-row class="ion-no-padding">
                  <ion-col size="12" class="ion-no-padding">
                    <span class="icon-weight  text-dark  text10"></span>
                    {{dataPatient['weight'] + ' KG'}}
                  </ion-col>
                </ion-row>
              </ion-col>

              <ion-col size="2" class="ion-no-padding">
                <ion-col size="12" class="ion-no-padding">
                  <ion-button
                    (click)="openImageEcg()"
                    color="danger"
                    class="ion-bt-padding "
                    expand="full"
                  >
                    <ion-icon slot="icon-only" name="pulse"></ion-icon>
                  </ion-button>
                </ion-col>
              </ion-col>
            </ion-row>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>
  <!-- ------------------- -->

  <ion-grid class="m-buttom ">
    <!-- LISTE DES  DOCTORS'S REVIEWS -->
    <ng-container>
      <ion-row>
        <ion-col size="12">
          <ion-list class="ion-padding">
            <ion-item-divider>
              <ion-avatar>
                <span class="icon-doctor-men3 text-dark  text17 "></span>
              </ion-avatar>
              <ion-text>
                <b class="text-gray500 ">AVIS DES MEDECINS </b>
              </ion-text>

              <ion-button
                slot="end"
                strong="true"
                (click)="reponseAvisCR()"
                shape="round"
                class="bt-refresh"
              >
                <ion-icon name="refresh"></ion-icon>
              </ion-button>
            </ion-item-divider>
            <ng-container *ngIf="afficheReponseMed== 0">
              <ion-item lines="none" class="ion-padding">
                <ion-text class="ion-text-center">
                  <span class="icon-conditions text-dark text17"></span>
                  Vous n'avez reçu aucune demande pour ce dossier. veuillez
                  choisir un CR
                </ion-text>
              </ion-item>
            </ng-container>
            <ng-container *ngIf="afficheReponseMed== 1">
              <ion-item lines="none" class="ion-padding">
                <ion-text class="ion-text-center">
                  <span class="icon-conditions text-dark text17"></span>
                  Pour l'instant, vous n'avez reçu aucune réponse à votre
                  demande, veuillez rafraîchir pour actualiser les données.
                </ion-text>
              </ion-item>
            </ng-container>
            <ng-container *ngIf="afficheReponseMed== 2">
              <ion-item
                detail
                lines="full"
                *ngFor="let itemReponse of dataModalAvis"
                class="ion-no-padding"
                (click)="listeReponseCR(itemReponse.nbReponse, itemReponse.idEtab)"
              >
                <ion-avatar>
                  <span class="icon-cr text-dark  text17"></span>
                </ion-avatar>
                <ion-label>
                  {{itemReponse.etabName}}
                </ion-label>
                <ion-badge
                  color='{{itemReponse.nbReponse == 0 ? "light-2" :"success2" }}'
                  class="badge-1"
                >
                  {{itemReponse.nbReponse}}</ion-badge
                >
              </ion-item>
            </ng-container>
          </ion-list>
        </ion-col>
      </ion-row>
    </ng-container>
  </ion-grid>
  <ion-grid fixed class="interv-btn-group ion-no-margin ">
    <ion-row>
      <ng-container *ngIf="motifId == 0 || motifId == 3  ">
        <ion-col size="6" class="ion-text-left">
          <ion-button
            expand="block"
            fill="solid"
            class="engio btn-2-fixed"
            tappable
            (click)="afficherListeCrModal()"
          >
            <span class="icon-int-engio text17"></span>
            <ion-text>
              ENGIOPLASTIE
            </ion-text>
          </ion-button>
        </ion-col>

        <ion-col size="6" class="ion-text-left">
          <ion-button
            expand="block"
            fill="solid"
            class="thromb btn-2-fixed"
            tappable
            (click)="goToTrombo()"
          >
            <span class="icon-int-thromb "></span>
            <ion-text>
              Thrombolyse
            </ion-text>
          </ion-button>
        </ion-col>
      </ng-container>

      <ng-container *ngIf="motifId == 2|| motifId == 4  || motifId == 6 ">
        <ion-col size="12" class="ion-text-left">
          <ion-button
            expand="block"
            fill="solid"
            class="list-cr btn-fixed "
            tappable
            (click)="afficherListeCrModal()"
          >
            <span class="icon-cr-orientation text17"></span>
            <ion-text>
              List CR
            </ion-text>
          </ion-button>
        </ion-col>
      </ng-container>
    </ion-row>
  </ion-grid>
</ion-content>
